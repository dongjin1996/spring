<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<!-- 각 페이지의 CSS가 작성될 위치 -->
<th:block layout:fragment="css">
	<style>
	h2 {
		font-family: none;
	}
	</style>
</th:block>
<div layout:fragment="content">
	<body class="sub_page">
		<section class="book_section layout_padding">

			<div class="container">
				<div class="heading_container">
					<h2 style="margin-left: 200px">정보수정</h2>
				</div>
				<div class="row">
					<div class="col-md-2"></div>
					<div class="col-md-8">
						<div class="form_container">
							<form role="form" th:action="@{'/user/member/' + ${memberId}}" method="post" enctype="multipart/form-data" name="memberForm"
								th:object="${memberFormDto}">

								<input type="hidden" th:field="*{id}">

								<div>
									<label th:for="email" class="memberForm-label">이메일</label> 
									<input
										type="email" class="form-control" placeholder="E-Mail" th:field="*{email}"/>
									<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError">Incorrect Data</p>
								</div>
								<div>
									<label th:for="password" class="memberForm-label">비밀번호</label>
									<input type="password" class="form-control"
										placeholder="Pass Word" th:field="*{password}"/>
									<p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError">Incorrect Data</p>
								</div>
								<div>
									<label th:for="name" class="memberForm-label">이름</label> 
									<input
										type="text" class="form-control" placeholder="이름" th:field="*{name}" />
									<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError">Incorrect Data</p>
								</div>
								<div>
									<label th:for="birth" class="memberForm-label">생년월일</label> 
									<input
										type="date" class="form-control" placeholder="Birth" th:field="*{birth}" />
									<p th:if="${#fields.hasErrors('birth')}" th:errors="*{birth}" class="fieldError">Incorrect Data</p>	
								</div>
								<div>
									<label th:for="address" class="memberForm-label">주소</label> 
									<input
										type="text" class="form-control" placeholder="Address" th:field="*{address}" />
									<p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="fieldError">Incorrect Data</p>
								</div>
								<div class="btn_box">
									<button type="submit">수정완료</button>
									<button type="button" th:onclick="javascript:location.href='/';">취소
									</button>
								</div>
								
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
							</form>
						</div>
					</div>
					<div class="col-md-2"></div>
				</div>
			</div>
		</section>
	</body>
</div>

<!-- 각 페이지의 스크립트가 작성될 위치 -->
<th:block layout:fragment="script">
	<script th:inline="javascript">
		//회원가입이 실패했을때
		var errorMessage = [[${errorMessage}]];
		
		if(errorMessage != null) {
			alert(errorMessage);
		}
	</script>
</th:block>
</html>